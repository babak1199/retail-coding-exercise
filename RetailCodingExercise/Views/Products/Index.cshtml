@model RetailCodingExercise.Models.ProductViewModel
@using RetailCodingExercise.SearchProducts

@{ ViewData["Title"] = Model.Title; }

<section class="featured">
    <div class="content-wrapper">
        <hgroup class="title">
            <h1>Products</h1>
        </hgroup>

        <section class="featured">
            <div style="margin-left: 2em">
                <table>
                    <tr>
                        <td style="width: 30%;vertical-align:top;">
                            <hgroup class="title inner">
                                <h1>Wingtip Toys</h1>
                                <h2>Wingtip Toys can help you find the perfect gift</h2>
                            </hgroup>
                            <p>
                                We're all about transportation toys. You can order
                                any of our toys today. Each toy listing has detailed
                                information to help you choose the right toy.
                            </p>
                        </td>
                        <td>
                            <div>
                                <form id="productSearch" asp-controller="Products" asp-action="Index" method="get">
                                    <p class="search-body">
                                        Search: <input type="text" name="query" value="@Context.Request.GetSearchQueryString()">
                                        <input type="submit" value="Filter" />
                                    </p>
                                    <div id="messageBox" class="error"></div>
                                </form>
                            </div>
                            <table>
                                @foreach (var product in Model.Products)
                                {
                                    <tr data-id="@product.ProductId">
                                        <input value="@product.ProductId" hidden />
                                        <td>
                                            <img border="1" height="75" src="@System.IO.Path.Combine(Model.ImagePath, product.ImagePath)" width="100">
                                        </td>
                                        <td>
                                            @product.ProductName
                                            <br>
                                            <span class="ProductPrice">
                                                <strong>Price:</strong>
                                                $@product.UnitPrice
                                            </span>
                                            <div><a class="cart-button" role="button" data-product-id="@product.ProductId">Add to Cart</a></div>
                                        </td>
                                    </tr>
                                }
                            </table>
                        </td>
                    </tr>
                </table>
            </div>
        </section>
    </div>
</section>

<section class="content-wrapper main-content clear-fix"></section>
